(function(aq,t){var I={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"};var O={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var ax=aq.fullCalendar={version:"1.5.4"};var aa=ax.views={};aq.fn.fullCalendar=function(aJ){if(typeof aJ=="string"){var aI=Array.prototype.slice.call(arguments,1);var aK;this.each(function(){var aM=aq.data(this,"fullCalendar");if(aM&&aq.isFunction(aM[aJ])){var aL=aM[aJ].apply(aM,aI);if(aK===t){aK=aL}if(aJ=="destroy"){aq.removeData(this,"fullCalendar")}}});if(aK!==t){return aK}return this}var aH=aJ.eventSources||[];delete aJ.eventSources;if(aJ.events){aH.push(aJ.events);delete aJ.events}aJ=aq.extend(true,{},I,(aJ.isRTL||aJ.isRTL===t&&I.isRTL)?O:{},aJ);this.each(function(aN,aL){var aM=aq(aL);var aO=new q(aM,aJ,aH);aM.data("fullCalendar",aO);aO.render()});return this};function ag(aH){aq.extend(true,I,aH)}function q(aZ,a6,a9){var bo=this;bo.options=a6;bo.render=bf;bo.destroy=bq;bo.refetchEvents=aT;bo.reportEvents=aX;bo.reportEventChange=bs;bo.rerenderEvents=aL;bo.changeView=aQ;bo.select=bp;bo.unselect=aS;bo.prev=bb;bo.next=aK;bo.prevYear=br;bo.nextYear=aI;bo.today=a0;bo.gotoDate=be;bo.incrementDate=a3;bo.formatDate=function(bz,by){return x(bz,by,a6)};bo.formatDates=function(bA,bz,by){return h(bA,bz,by,a6)};bo.getDate=a4;bo.getView=ba;bo.option=bl;bo.trigger=bd;p.call(bo,a6,a9);var aH=bo.isFetchNeeded;var bv=bo.fetchEvents;var bm=aZ[0];var aM;var bg;var aV;var bx;var aU;var bw={};var bc;var aO;var aR;var bh=0;var bn=0;var bt=new Date();var a8=[];var aN;v(bt,a6.year,a6.month,a6.date);function bf(by){if(!aV){a7()}else{bi();bu();aJ();a5(by)}}function a7(){bx=a6.theme?"ui":"fc";aZ.addClass("fc");if(a6.isRTL){aZ.addClass("fc-rtl")}if(a6.theme){aZ.addClass("ui-widget")}aV=aq("<div class='fc-content' style='position:relative'/>").prependTo(aZ);aM=new P(bo,a6);bg=aM.render();if(bg){aZ.prepend(bg)}aQ(a6.defaultView);aq(window).resize(aW);if(!aY()){aP()}}function aP(){setTimeout(function(){if(!aU.start&&aY()){a5()}},0)}function bq(){aq(window).unbind("resize",aW);aM.destroy();aV.remove();aZ.removeClass("fc fc-rtl ui-widget")}function bj(){return bm.offsetWidth!==0}function aY(){return aq("body")[0].offsetWidth!==0}function aQ(bA,bB){if(bB){bt=J(bB)}if(!aU||bA!=aU.name){bn++;aS();var bz=aU;var by;if(bz){(bz.beforeHide||an)();F(aV,aV.height());bz.element.hide()}else{F(aV,1)}aV.css("overflow","hidden");aU=bw[bA];if(aU){aU.element.show()}else{aU=bw[bA]=new aa[bA](by=aR=aq("<div class='fc-view fc-view-"+bA+"' style='position:absolute'/>").appendTo(aV),bo)}if(bz){aM.deactivateButton(bz.name)}aM.activateButton(bA);a5();aV.css("overflow","");if(bz){F(aV,1)}if(!by){(aU.afterShow||an)()}bn--}}function a5(bA){if(bj()){bn++;aS();if(aO===t){bi()}var bz=false;if(!aU.start||bA||bt<aU.start||bt>=aU.end){aU.render(bt,bA||0);bk(true);bz=true}else{if(aU.sizeDirty){aU.clearEvents();bk();bz=true}else{if(aU.eventsDirty){aU.clearEvents();bz=true}}}aU.sizeDirty=false;aU.eventsDirty=false;a2(bz);bc=aZ.outerWidth();aM.updateTitle(aU.title);var by=new Date();if(by>=aU.start&&by<aU.end){aM.disableButton("today")}else{aM.enableButton("today")}bn--;aU.trigger("viewDisplay",bm)}}function a1(){bu();if(bj()){bi();bk();aS();aU.clearEvents();aU.renderEvents(a8);aU.sizeDirty=false}}function bu(){aq.each(bw,function(by,bz){bz.sizeDirty=true})}function bi(){if(a6.contentHeight){aO=a6.contentHeight}else{if(a6.height){aO=a6.height-(bg?bg.height():0)-B(aV)}else{aO=Math.round(aV.width()/Math.max(a6.aspectRatio,0.5))}}}function bk(by){bn++;aU.setHeight(aO,by);if(aR){aR.css("position","relative");aR=null}aU.setWidth(aV.width(),by);bn--}function aW(){if(!bn){if(aU.start){var by=++bh;setTimeout(function(){if(by==bh&&!bn&&bj()){if(bc!=(bc=aZ.outerWidth())){bn++;a1();aU.trigger("windowResize",bm);bn--}}},200)}else{aP()}}}function a2(by){if(!a6.lazyFetching||aH(aU.visStart,aU.visEnd)){aT()}else{if(by){aL()}}}function aT(){bv(aU.visStart,aU.visEnd)}function aX(by){a8=by;aL()}function bs(by){aL(by)}function aL(by){aJ();if(bj()){aU.clearEvents();aU.renderEvents(a8,by);aU.eventsDirty=false}}function aJ(){aq.each(bw,function(by,bz){bz.eventsDirty=true})}function bp(bA,by,bz){aU.select(bA,by,bz===t?true:bz)}function aS(){if(aU){aU.unselect()}}function bb(){a5(-1)}function aK(){a5(1)}function br(){af(bt,-1);a5()}function aI(){af(bt,1);a5()}function a0(){bt=new Date();a5()}function be(bz,bA,by){if(bz instanceof Date){bt=J(bz)}else{v(bt,bz,bA,by)}a5()}function a3(bz,by,bA){if(bz!==t){af(bt,bz)}if(by!==t){m(bt,by)}if(bA!==t){az(bt,bA)}a5()}function a4(){return J(bt)}function ba(){return aU}function bl(by,bz){if(bz===t){return a6[by]}if(by=="height"||by=="contentHeight"||by=="aspectRatio"){a6[by]=bz;a1()}}function bd(by,bz){if(a6[by]){return a6[by].apply(bz||bm,Array.prototype.slice.call(arguments,2))}}if(a6.droppable){aq(document).bind("dragstart",function(bA,bB){var by=bA.target;var bC=aq(by);if(!bC.parents(".fc").length){var bz=a6.dropAccept;if(aq.isFunction(bz)?bz.call(by,bC):bC.is(bz)){aN=by;aU.dragStart(aN,bA,bB)}}}).bind("dragstop",function(by,bz){if(aN){aU.dragStop(aN,by,bz);aN=null}})}}function P(aK,aT){var aS=this;aS.render=aI;aS.destroy=aO;aS.updateTitle=aM;aS.activateButton=aH;aS.deactivateButton=aQ;aS.disableButton=aJ;aS.enableButton=aN;var aL=aq([]);var aP;function aI(){aP=aT.theme?"ui":"fc";var aU=aT.header;if(aU){aL=aq("<table class='fc-header' style='width:100%'/>").append(aq("<tr/>").append(aR("left")).append(aR("center")).append(aR("right")));return aL}}function aO(){aL.remove()}function aR(aU){var aW=aq("<td class='fc-header-"+aU+"'/>");var aV=aT.header[aU];if(aV){aq.each(aV.split(" "),function(aY){if(aY>0){aW.append("<span class='fc-header-space'/>")}var aX;aq.each(this.split(","),function(a1,a0){if(a0=="title"){aW.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(aX){aX.addClass(aP+"-corner-right")}aX=null}else{var aZ;if(aK[a0]){aZ=aK[a0]}else{if(aa[a0]){aZ=function(){a2.removeClass(aP+"-state-hover");aK.changeView(a0)}}}if(aZ){var a3=aT.theme?A(aT.buttonIcons,a0):null;var a4=A(aT.buttonText,a0);var a2=aq("<span class='fc-button fc-button-"+a0+" "+aP+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(a3?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a3+"'/></span>":a4)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(a2){a2.click(function(){if(!a2.hasClass(aP+"-state-disabled")){aZ()}}).mousedown(function(){a2.not("."+aP+"-state-active").not("."+aP+"-state-disabled").addClass(aP+"-state-down")}).mouseup(function(){a2.removeClass(aP+"-state-down")}).hover(function(){a2.not("."+aP+"-state-active").not("."+aP+"-state-disabled").addClass(aP+"-state-hover")},function(){a2.removeClass(aP+"-state-hover").removeClass(aP+"-state-down")}).appendTo(aW);if(!aX){a2.addClass(aP+"-corner-left")}aX=a2}}}});if(aX){aX.addClass(aP+"-corner-right")}})}return aW}function aM(aU){aL.find("h2").html(aU)}function aH(aU){aL.find("span.fc-button-"+aU).addClass(aP+"-state-active")}function aQ(aU){aL.find("span.fc-button-"+aU).removeClass(aP+"-state-active")}function aJ(aU){aL.find("span.fc-button-"+aU).addClass(aP+"-state-disabled")}function aN(aU){aL.find("span.fc-button-"+aU).removeClass(aP+"-state-disabled")}}ax.sourceNormalizers=[];ax.sourceFetchers=[];var k={dataType:"json",cache:false};var S=1;function p(aN,aV){var aX=this;aX.isFetchNeeded=aP;aX.fetchEvents=aW;aX.addEventSource=aK;aX.removeEventSource=aL;aX.updateEvent=a0;aX.renderEvent=aT;aX.removeEvents=bc;aX.clientEvents=a6;aX.normalizeEvent=aS;var aZ=aX.trigger;var aH=aX.getView;var a2=aX.reportEvents;var a4={events:[]};var aI=[a4];var a9,a5;var aJ=0;var ba=0;var a8=0;var aY=[];for(var a7=0;a7<aV.length;a7++){a1(aV[a7])}function aP(be,bd){return !a9||be<a9||bd>a5}function aW(bh,be){a9=bh;a5=be;aY=[];var bg=++aJ;var bd=aI.length;ba=bd;for(var bf=0;bf<bd;bf++){aO(aI[bf],bg)}}function aO(be,bd){a3(be,function(bg){if(bd==aJ){if(bg){for(var bf=0;bf<bg.length;bf++){bg[bf].source=be;aS(bg[bf])}aY=aY.concat(bg)}ba--;if(!ba){a2(aY)}}})}function a3(bd,bn){var bi;var bm=ax.sourceFetchers;var bk;for(bi=0;bi<bm.length;bi++){bk=bm[bi](bd,a9,a5,bn);if(bk===true){return}else{if(typeof bk=="object"){a3(bk,bn);return}}}var bp=bd.events;if(bp){if(aq.isFunction(bp)){aR();bp(J(a9),J(a5),function(bq){bn(bq);bb()})}else{if(aq.isArray(bp)){bn(bp)}else{bn()}}}else{var be=bd.url;if(be){var bo=bd.success;var bl=bd.error;var bf=bd.complete;var bh=aq.extend({},bd.data||{});var bj=aF(bd.startParam,aN.startParam);var bg=aF(bd.endParam,aN.endParam);if(bj){bh[bj]=ae(a9)}if(bg){bh[bg]=ae(a5)}aR();aq.ajax(aq.extend({},k,bd,{data:bh,success:function(br){br=br||[];var bq=E(bo,this,arguments);if(aq.isArray(bq)){br=bq}bn(br)},error:function(){E(bl,this,arguments);bn()},complete:function(){E(bf,this,arguments);bb()}}))}else{bn()}}}function aK(bd){bd=a1(bd);if(bd){ba++;aO(bd,aJ)}}function a1(bd){if(aq.isFunction(bd)||aq.isArray(bd)){bd={events:bd}}else{if(typeof bd=="string"){bd={url:bd}}}if(typeof bd=="object"){aU(bd);aI.push(bd);return bd}}function aL(bd){aI=aq.grep(aI,function(be){return !aQ(be,bd)});aY=aq.grep(aY,function(be){return !aQ(be.source,bd)});a2(aY)}function a0(bi){var bg,be=aY.length,bj,bd=aH().defaultEventEnd,bh=bi.start-bi._start,bf=bi.end?(bi.end-(bi._end||bd(bi))):0;for(bg=0;bg<be;bg++){bj=aY[bg];if(bj._id==bi._id&&bj!=bi){bj.start=new Date(+bj.start+bh);if(bi.end){if(bj.end){bj.end=new Date(+bj.end+bf)}else{bj.end=new Date(+bd(bj)+bf)}}else{bj.end=null}bj.title=bi.title;bj.url=bi.url;bj.allDay=bi.allDay;bj.className=bi.className;bj.editable=bi.editable;bj.color=bi.color;bj.backgroudColor=bi.backgroudColor;bj.borderColor=bi.borderColor;bj.textColor=bi.textColor;aS(bj)}}aS(bi);a2(aY)}function aT(be,bd){aS(be);if(!be.source){if(bd){a4.events.push(be);be.source=a4}aY.push(be)}a2(aY)}function bc(be){if(!be){aY=[];for(var bd=0;bd<aI.length;bd++){if(aq.isArray(aI[bd].events)){aI[bd].events=[]}}}else{if(!aq.isFunction(be)){var bf=be+"";be=function(bg){return bg._id==bf}}aY=aq.grep(aY,be,true);for(var bd=0;bd<aI.length;bd++){if(aq.isArray(aI[bd].events)){aI[bd].events=aq.grep(aI[bd].events,be,true)}}}a2(aY)}function a6(bd){if(aq.isFunction(bd)){return aq.grep(aY,bd)}else{if(bd){bd+="";return aq.grep(aY,function(be){return be._id==bd})}}return aY}function aR(){if(!a8++){aZ("loading",null,true)}}function bb(){if(!--a8){aZ("loading",null,false)}}function aS(be){var bf=be.source||{};var bd=aF(bf.ignoreTimezone,aN.ignoreTimezone);be._id=be._id||(be.id===t?"_fc"+S++:be.id+"");if(be.date){if(!be.start){be.start=be.date}delete be.date}be._start=J(be.start=W(be.start,bd));be.end=W(be.end,bd);if(be.end&&be.end<=be.start){be.end=null}be._end=be.end?J(be.end):null;if(be.allDay===t){be.allDay=aF(bf.allDayDefault,aN.allDayDefault)}if(be.className){if(typeof be.className=="string"){be.className=be.className.split(/\s+/)}}else{be.className=[]}}function aU(bf){if(bf.className){if(typeof bf.className=="string"){bf.className=bf.className.split(/\s+/)}}else{bf.className=[]}var be=ax.sourceNormalizers;for(var bd=0;bd<be.length;bd++){be[bd](bf)}}function aQ(be,bd){return be&&bd&&aM(be)==aM(bd)}function aM(bd){return((typeof bd=="object")?(bd.events||bd.url):"")||bd}}ax.addDays=az;ax.cloneDate=J;ax.parseDate=W;ax.parseISO8601=l;ax.parseTime=aD;ax.formatDate=x;ax.formatDates=h;ax.dateToISO8601=ae;var M=["sun","mon","tue","wed","thu","fri","sat"],at=86400000,ah=3600000,R=60000;function af(aI,aJ,aH){aI.setFullYear(aI.getFullYear()+aJ);if(!aH){b(aI)}return aI}function m(aK,aL,aJ){if(+aK){var aH=aK.getMonth()+aL,aI=J(aK);aI.setDate(1);aI.setMonth(aH);aK.setMonth(aH);if(!aJ){b(aK)}while(aK.getMonth()!=aI.getMonth()){aK.setDate(aK.getDate()+(aK<aI?1:-1))}}return aK}function az(aK,aL,aJ){if(+aK){var aH=aK.getDate()+aL,aI=J(aK);aI.setHours(9);aI.setDate(aH);aK.setDate(aH);if(!aJ){b(aK)}aB(aK,aI)}return aK}function aB(aI,aH){if(+aI){while(aI.getDate()!=aH.getDate()){aI.setTime(+aI+(aI<aH?1:-1)*ah)}}}function g(aH,aI){aH.setMinutes(aH.getMinutes()+aI);return aH}function b(aH){aH.setHours(0);aH.setMinutes(0);aH.setSeconds(0);aH.setMilliseconds(0);return aH}function J(aH,aI){if(aI){return b(new Date(+aH))}return new Date(+aH)}function d(){var aH=0,aI;do{aI=new Date(1970,aH++,1)}while(aI.getHours());return aI}function aE(aH,aI,aJ){aI=aI||1;while(!aH.getDay()||(aJ&&aH.getDay()==1||!aJ&&aH.getDay()==6)){az(aH,aI)}return aH}function aw(aI,aH){return Math.round((J(aI,true)-J(aH,true))/at)}function v(aI,aK,aH,aJ){if(aK!==t&&aK!=aI.getFullYear()){aI.setDate(1);aI.setMonth(0);aI.setFullYear(aK)}if(aH!==t&&aH!=aI.getMonth()){aI.setDate(1);aI.setMonth(aH)}if(aJ!==t){aI.setDate(aJ)}}function ap(aH){return(String(aH).length==1)?("0"+aH):aH}function ae(aH){return String(aH.getFullYear())+"-"+ap(aH.getMonth()+1)+"-"+ap(aH.getDate())+"T"+ap(aH.getHours())+":"+ap(aH.getMinutes())+":00"}function W(aI,aH){if(typeof aI=="object"){return aI}if(typeof aI=="number"){return new Date(aI*1000)}if(typeof aI=="string"){if(aI.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aI)*1000)}if(aH===t){aH=true}return l(aI,aH)||(aI?new Date(aI):null)}return null}function l(aL,aI){var aH=aL.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aH){return null}var aK=new Date(aH[1],0,1);if(aI||!aH[13]){var aJ=new Date(aH[1],0,1,9,0);if(aH[3]){aK.setMonth(aH[3]-1);aJ.setMonth(aH[3]-1)}if(aH[5]){aK.setDate(aH[5]);aJ.setDate(aH[5])}aB(aK,aJ);if(aH[7]){aK.setHours(aH[7])}if(aH[8]){aK.setMinutes(aH[8])}if(aH[10]){aK.setSeconds(aH[10])}if(aH[12]){aK.setMilliseconds(Number("0."+aH[12])*1000)}aB(aK,aJ)}else{aK.setUTCFullYear(aH[1],aH[3]?aH[3]-1:0,aH[5]||1);aK.setUTCHours(aH[7]||0,aH[8]||0,aH[10]||0,aH[12]?Number("0."+aH[12])*1000:0);if(aH[14]){var aM=Number(aH[16])*60+(aH[18]?Number(aH[18]):0);aM*=aH[15]=="-"?1:-1;aK=new Date(+aK+(aM*60*1000))}}return aK}function aD(aJ){if(typeof aJ=="number"){return aJ*60}if(typeof aJ=="object"){return aJ.getHours()*60+aJ.getMinutes()}var aH=aJ.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aH){var aI=parseInt(aH[1],10);if(aH[3]){aI%=12;if(aH[3].toLowerCase().charAt(0)=="p"){aI+=12}}return aI*60+(aH[2]?parseInt(aH[2],10):0)}}function x(aI,aJ,aH){return h(aI,null,aJ,aH)}function h(aT,aS,aR,aU){aU=aU||I;var aI=aT,aK=aS,aL,aM=aR.length,aO,aJ,aQ,aN="";for(aL=0;aL<aM;aL++){aO=aR.charAt(aL);if(aO=="'"){for(aJ=aL+1;aJ<aM;aJ++){if(aR.charAt(aJ)=="'"){if(aI){if(aJ==aL+1){aN+="'"}else{aN+=aR.substring(aL+1,aJ)}aL=aJ}break}}}else{if(aO=="("){for(aJ=aL+1;aJ<aM;aJ++){if(aR.charAt(aJ)==")"){var aH=x(aI,aR.substring(aL+1,aJ),aU);if(parseInt(aH.replace(/\D/,""),10)){aN+=aH}aL=aJ;break}}}else{if(aO=="["){for(aJ=aL+1;aJ<aM;aJ++){if(aR.charAt(aJ)=="]"){var aP=aR.substring(aL+1,aJ);var aH=x(aI,aP,aU);if(aH!=x(aK,aP,aU)){aN+=aH}aL=aJ;break}}}else{if(aO=="{"){aI=aS;aK=aT}else{if(aO=="}"){aI=aT;aK=aS}else{for(aJ=aM;aJ>aL;aJ--){if(aQ=av[aR.substring(aL,aJ)]){if(aI){aN+=aQ(aI,aU)}aL=aJ-1;break}}if(aJ==aL){if(aI){aN+=aO}}}}}}}}return aN}var av={s:function(aH){return aH.getSeconds()},ss:function(aH){return X(aH.getSeconds())},m:function(aH){return aH.getMinutes()},mm:function(aH){return X(aH.getMinutes())},h:function(aH){return aH.getHours()%12||12},hh:function(aH){return X(aH.getHours()%12||12)},H:function(aH){return aH.getHours()},HH:function(aH){return X(aH.getHours())},d:function(aH){return aH.getDate()},dd:function(aH){return X(aH.getDate())},ddd:function(aI,aH){return aH.dayNamesShort[aI.getDay()]},dddd:function(aI,aH){return aH.dayNames[aI.getDay()]},M:function(aH){return aH.getMonth()+1},MM:function(aH){return X(aH.getMonth()+1)},MMM:function(aI,aH){return aH.monthNamesShort[aI.getMonth()]},MMMM:function(aI,aH){return aH.monthNames[aI.getMonth()]},yy:function(aH){return(aH.getFullYear()+"").substring(2)},yyyy:function(aH){return aH.getFullYear()},t:function(aH){return aH.getHours()<12?"a":"p"},tt:function(aH){return aH.getHours()<12?"am":"pm"},T:function(aH){return aH.getHours()<12?"A":"P"},TT:function(aH){return aH.getHours()<12?"AM":"PM"},u:function(aH){return x(aH,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(aI){var aH=aI.getDate();if(aH>10&&aH<20){return"th"}return["st","nd","rd"][aH%10-1]||"th"}};ax.applyAll=E;function ak(aH){if(aH.end){return o(aH.end,aH.allDay)}else{return az(J(aH.start),1)}}function o(aH,aI){aH=J(aH);return aI||aH.getHours()||aH.getMinutes()?az(aH,1):b(aH)}function r(aI,aH){return(aH.msLength-aI.msLength)*100+(aI.event.start-aH.event.start)}function K(aI,aH){return aI.end>aH.start&&aI.start<aH.end}function Y(aT,aN,aJ,aM){var aK=[],aO,aQ=aT.length,aI,aR,aP,aS,aU,aH,aL;for(aO=0;aO<aQ;aO++){aI=aT[aO];aR=aI.start;aP=aN[aO];if(aP>aJ&&aR<aM){if(aR<aJ){aS=J(aJ);aH=false}else{aS=aR;aH=true}if(aP>aM){aU=J(aM);aL=false}else{aU=aP;aL=true}aK.push({event:aI,start:aS,end:aU,isStart:aH,isEnd:aL,msLength:aU-aS})}}return aK.sort(r)}function ad(aJ){var aN=[],aM,aH=aJ.length,aI,aL,aO,aK;for(aM=0;aM<aH;aM++){aI=aJ[aM];aL=0;while(true){aO=false;if(aN[aL]){for(aK=0;aK<aN[aL].length;aK++){if(K(aN[aL][aK],aI)){aO=true;break}}}if(aO){aL++}else{break}}if(aN[aL]){aN[aL].push(aI)}else{aN[aL]=[aI]}}return aN}function s(aI,aH,aJ){aI.unbind("mouseover").mouseover(function(aN){var aM=aN.target,aO,aL,aK;while(aM!=this){aO=aM;aM=aM.parentNode}if((aL=aO._fci)!==t){aO._fci=t;aK=aH[aL];aJ(aK.event,aK.element,aK);aq(aN.target).trigger(aN)}aN.stopPropagation()})}function ar(aJ,aK,aH){for(var aI=0,aL;aI<aJ.length;aI++){aL=aq(aJ[aI]);aL.width(Math.max(0,aK-f(aL,aH)))}}function V(aK,aH,aI){for(var aJ=0,aL;aJ<aK.length;aJ++){aL=aq(aK[aJ]);aL.height(Math.max(0,aH-B(aL,aI)))}}function f(aI,aH){return ac(aI)+n(aI)+(aH?ab(aI):0)}function ac(aH){return(parseFloat(aq.css(aH[0],"paddingLeft",true))||0)+(parseFloat(aq.css(aH[0],"paddingRight",true))||0)}function ab(aH){return(parseFloat(aq.css(aH[0],"marginLeft",true))||0)+(parseFloat(aq.css(aH[0],"marginRight",true))||0)}function n(aH){return(parseFloat(aq.css(aH[0],"borderLeftWidth",true))||0)+(parseFloat(aq.css(aH[0],"borderRightWidth",true))||0)}function B(aI,aH){return u(aI)+am(aI)+(aH?i(aI):0)}function u(aH){return(parseFloat(aq.css(aH[0],"paddingTop",true))||0)+(parseFloat(aq.css(aH[0],"paddingBottom",true))||0)}function i(aH){return(parseFloat(aq.css(aH[0],"marginTop",true))||0)+(parseFloat(aq.css(aH[0],"marginBottom",true))||0)}function am(aH){return(parseFloat(aq.css(aH[0],"borderTopWidth",true))||0)+(parseFloat(aq.css(aH[0],"borderBottomWidth",true))||0)}function F(aI,aH){aH=(typeof aH=="number"?aH+"px":aH);aI.each(function(aK,aJ){aJ.style.cssText+=";min-height:"+aH+";_height:"+aH})}function an(){}function T(aI,aH){return aI-aH}function ao(aH){return Math.max.apply(Math,aH)}function X(aH){return(aH<10?"0":"")+aH}function A(aL,aH){if(aL[aH]!==t){return aL[aH]}var aK=aH.split(/(?=[A-Z])/),aJ=aK.length-1,aI;for(;aJ>=0;aJ--){aI=aL[aK[aJ].toLowerCase()];if(aI!==t){return aI}}return aL[""]}function aC(aH){return aH.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function D(aH){return aH.id+"/"+aH.className+"/"+aH.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function aG(aH){aH.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function c(aH){aH.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function H(aH,aI){aH.each(function(aJ,aK){aK.className=aK.className.replace(/^fc-\w*/,"fc-"+M[aI.getDay()])})}function N(aI,aJ){var aH=aI.source||{};var aO=aI.color;var aM=aH.color;var aL=aJ("eventColor");var aP=aI.backgroundColor||aO||aH.backgroundColor||aM||aJ("eventBackgroundColor")||aL;var aK=aI.borderColor||aO||aH.borderColor||aM||aJ("eventBorderColor")||aL;var aQ=aI.textColor||aH.textColor||aJ("eventTextColor");var aN=[];if(aP){aN.push("background-color:"+aP)}if(aK){aN.push("border-color:"+aK)}if(aQ){aN.push("color:"+aQ)}return aN.join(";")}function E(aK,aL,aI){if(aq.isFunction(aK)){aK=[aK]}if(aK){var aJ;var aH;for(aJ=0;aJ<aK.length;aJ++){aH=aK[aJ].apply(aL,aI)||aH}return aH}}function aF(){for(var aH=0;aH<arguments.length;aH++){if(arguments[aH]!==t){return arguments[aH]}}}aa.month=Z;function Z(aK,aN){var aJ=this;aJ.render=aL;w.call(aJ,aK,aN,"month");var aI=aJ.opt;var aH=aJ.renderBasic;var aM=aN.formatDate;function aL(aR,aV){if(aV){m(aR,aV);aR.setDate(1)}var aP=J(aR,true);aP.setDate(1);var aS=m(J(aP),1);var aW=J(aP);var aT=J(aS);var aO=aI("firstDay");var aQ=aI("weekends")?0:1;if(aQ){aE(aW);aE(aT,-1,true)}az(aW,-((aW.getDay()-Math.max(aO,aQ)+7)%7));az(aT,(7-aT.getDay()+Math.max(aO,aQ))%7);var aU=Math.round((aT-aW)/(at*7));if(aI("weekMode")=="fixed"){az(aT,(6-aU)*7);aU=6}aJ.title=aM(aP,aI("titleFormat"));aJ.start=aP;aJ.end=aS;aJ.visStart=aW;aJ.visEnd=aT;aH(6,aU,aQ?5:7,true)}}aa.basicWeek=ay;function ay(aL,aN){var aK=this;aK.render=aM;w.call(aK,aL,aN,"basicWeek");var aJ=aK.opt;var aI=aK.renderBasic;var aH=aN.formatDates;function aM(aS,aU){if(aU){az(aS,aU*7)}var aT=az(J(aS),-((aS.getDay()-aJ("firstDay")+7)%7));var aQ=az(J(aT),7);var aP=J(aT);var aO=J(aQ);var aR=aJ("weekends");if(!aR){aE(aP);aE(aO,-1,true)}aK.title=aH(aP,az(J(aO),-1),aJ("titleFormat"));aK.start=aT;aK.end=aQ;aK.visStart=aP;aK.visEnd=aO;aI(1,1,aR?7:5,false)}}aa.basicDay=G;function G(aK,aN){var aJ=this;aJ.render=aL;w.call(aJ,aK,aN,"basicDay");var aI=aJ.opt;var aH=aJ.renderBasic;var aM=aN.formatDate;function aL(aO,aP){if(aP){az(aO,aP);if(!aI("weekends")){aE(aO,aP<0?-1:1)}}aJ.title=aM(aO,aI("titleFormat"));aJ.start=aJ.visStart=J(aO,true);aJ.end=aJ.visEnd=az(J(aJ.start),1);aH(1,1,1,false)}}ag({weekMode:"fixed"});function w(aX,bn,aQ){var bm=this;bm.renderBasic=bf;bm.setHeight=bk;bm.setWidth=bu;bm.renderDayOverlay=ba;bm.defaultSelectionEnd=a9;bm.renderSelection=bo;bm.clearSelection=aH;bm.reportDayClick=aV;bm.dragStart=aJ;bm.dragStop=aR;bm.defaultEventEnd=bB;bm.getHoverListener=function(){return aK};bm.colContentLeft=bj;bm.colContentRight=bg;bm.dayOfWeekCol=a5;bm.dateCell=bh;bm.cellDate=bA;bm.cellIsAllDay=function(){return true};bm.allDayRow=aU;bm.allDayBounds=br;bm.getRowCnt=function(){return a3};bm.getColCnt=function(){return aM};bm.getColWidth=function(){return a6};bm.getDaySegmentContainer=function(){return aT};aA.call(bm,aX,bn,aQ);a.call(bm);aj.call(bm);ai.call(bm);var a0=bm.opt;var bc=bm.trigger;var a8=bm.clearEvents;var bx=bm.renderOverlay;var aP=bm.clearOverlays;var bi=bm.daySelectionMousedown;var bl=bn.formatDate;var aW;var aS;var a4;var aO;var aY;var a7;var be;var aT;var by;var bD;var a6;var a3,aM;var bq;var aK;var bs;var bp,bC,bz;var a2;var aZ;var bE;var aN;aG(aX.addClass("fc-grid"));function bf(bG,bH,bJ,bF){a3=bH;aM=bJ;bv();var bI=!a4;if(bI){bb(bG,bF)}else{a8()}aI(bI)}function bv(){bp=a0("isRTL");if(bp){bC=-1;bz=aM-1}else{bC=1;bz=0}a2=a0("firstDay");aZ=a0("weekends")?0:1;bE=a0("theme")?"ui":"fc";aN=a0("columnFormat")}function bb(bL,bI){var bK;var bJ=bE+"-widget-header";var bG=bE+"-widget-content";var bH,bF;var bM;bK="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(bH=0;bH<aM;bH++){bK+="<th class='fc- "+bJ+"'/>"}bK+="</tr></thead><tbody>";for(bH=0;bH<bL;bH++){bK+="<tr class='fc-week"+bH+"'>";for(bF=0;bF<aM;bF++){bK+="<td class='fc- "+bG+" fc-day"+(bH*aM+bF)+"'><div>"+(bI?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}bK+="</tr>"}bK+="</tbody></table>";bM=aq(bK).appendTo(aX);aW=bM.find("thead");aS=aW.find("th");a4=bM.find("tbody");aO=a4.find("tr");aY=a4.find("td");a7=aY.filter(":first-child");be=aO.eq(0).find("div.fc-day-content div");c(aW.add(aW.find("tr")));c(aO);aO.eq(0).addClass("fc-first");aL(aY);aT=aq("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(aX)}function aI(bM){var bJ=bM||a3==1;var bK=bm.start.getMonth();var bH=b(new Date());var bF;var bI;var bL;if(bJ){aS.each(function(bN,bO){bF=aq(bO);bI=bd(bN);bF.html(bl(bI,aN));H(bF,bI)})}var bG=function(){var bO=parseInt(this.getAttribute("i"));var bN=bd(bO);bn.changeView("agendaDay",bN)};aY.each(function(bN,bO){bF=aq(bO);bI=bd(bN);if(bI.getMonth()==bK){bF.removeClass("fc-other-month")}else{bF.addClass("fc-other-month")}if(+bI==+bH){bF.addClass(bE+"-state-highlight fc-today")}else{bF.removeClass(bE+"-state-highlight fc-today")}bF.find("div.fc-day-number").text(bI.getDate()).attr("i",bN).mousedown(bG);if(bJ){H(bF,bI)}});aO.each(function(bN,bO){bL=aq(bO);if(bN<a3){bL.show();if(bN==a3-1){bL.addClass("fc-last")}else{bL.removeClass("fc-last")}}else{bL.hide()}})}function bk(bG){bD=bG;var bJ=bD-aW.height();var bI;var bH;var bF;if(a0("weekMode")=="variable"){bI=bH=Math.floor(bJ/(a3==1?2:6))}else{bI=Math.floor(bJ/a3);bH=bJ-bI*(a3-1)}a7.each(function(bK,bL){if(bK<a3){bF=aq(bL);F(bF.find("> div"),(bK==a3-1?bH:bI)-B(bF))}})}function bu(bF){by=bF;bs.clear();a6=Math.floor(by/aM);ar(aS.slice(0,-1),a6)}function aL(bF){bF.click(bw).mousedown(bi)}function bw(bH){if(!a0("selectable")){var bG=parseInt(this.className.match(/fc\-day(\d+)/)[1]);var bF=bd(bG);bc("dayClick",this,bF,true,bH)}}function ba(bK,bO,bI){if(bI){bq.build()}var bF=J(bm.visStart);var bL=az(J(bF),aM);for(var bH=0;bH<a3;bH++){var bJ=new Date(Math.max(bF,bK));var bN=new Date(Math.min(bL,bO));if(bJ<bN){var bG,bM;if(bp){bG=aw(bN,bF)*bC+bz+1;bM=aw(bJ,bF)*bC+bz+1}else{bG=aw(bJ,bF);bM=aw(bN,bF)}aL(bt(bH,bG,bH,bM-1))}az(bF,7);az(bL,7)}}function bt(bI,bJ,bG,bH){var bF=bq.rect(bI,bJ,bG,bH,aX);return bx(bF,aX)}function a9(bF,bG){return J(bF)}function bo(bF,bH,bG){ba(bF,az(J(bH),1),true)}function aH(){aP()}function aV(bH,bJ,bI){var bF=bh(bH);var bG=aY[bF.row*aM+bF.col];bc("dayClick",bG,bH,bJ,bI)}function aJ(bH,bF,bG){aK.start(function(bI){aP();if(bI){bt(bI.row,bI.col,bI.row,bI.col)}},bF)}function aR(bJ,bG,bH){var bF=aK.stop();aP();if(bF){var bI=bA(bF);bc("drop",bJ,bI,true,bG,bH)}}function bB(bF){return J(bF.start)}bq=new L(function(bF,bI){var bH,bJ,bG;aS.each(function(bL,bK){bH=aq(bK);bJ=bH.offset().left;if(bL){bG[1]=bJ}bG=[bJ];bI[bL]=bG});bG[1]=bJ+bH.outerWidth();aO.each(function(bL,bK){if(bL<a3){bH=aq(bK);bJ=bH.offset().top;if(bL){bG[1]=bJ}bG=[bJ];bF[bL]=bG}});bG[1]=bJ+bH.outerHeight()});aK=new al(bq);bs=new j(function(bF){return be.eq(bF)});function bj(bF){return bs.left(bF)}function bg(bF){return bs.right(bF)}function bh(bF){return{row:Math.floor(aw(bF,bm.visStart)/7),col:a5(bF.getDay())}}function bA(bF){return a1(bF.row,bF.col)}function a1(bG,bF){return az(J(bm.visStart),bG*7+bF*bC+bz)}function bd(bF){return a1(Math.floor(bF/aM),bF%aM)}function a5(bF){return((bF-Math.max(a2,aZ)+aM)%aM)*bC+bz}function aU(bF){return aO.eq(bF)}function br(bF){return{left:0,right:by}}}function ai(){var aS=this;aS.renderEvents=aN;aS.compileDaySegs=aR;aS.clearEvents=aQ;aS.bindDaySeg=aM;U.call(aS);var aJ=aS.opt;var aU=aS.trigger;var aY=aS.isEventDraggable;var a0=aS.isEventResizable;var aZ=aS.reportEvents;var a3=aS.reportEventClear;var aI=aS.eventElementHandlers;var a1=aS.showEvents;var aH=aS.hideEvents;var aW=aS.eventDrop;var a4=aS.getDaySegmentContainer;var a2=aS.getHoverListener;var aP=aS.renderDayOverlay;var aV=aS.clearOverlays;var aL=aS.getRowCnt;var aX=aS.getColCnt;var aT=aS.renderDaySegs;var aO=aS.resizableDayEvent;function aN(a6,a5){aZ(a6);aT(aR(a6),a5)}function aQ(){a3();a4().empty()}function aR(bg){var bd=aL(),bf=aX(),a7=J(aS.visStart),a5=az(J(a7),bf),be=aq.map(bg,ak),bc,bh,bb,a6,a9,ba,a8=[];for(bc=0;bc<bd;bc++){bh=ad(Y(bg,be,a7,a5));for(bb=0;bb<bh.length;bb++){a6=bh[bb];for(a9=0;a9<a6.length;a9++){ba=a6[a9];ba.row=bc;ba.level=bb;a8.push(ba)}}az(a7,7);az(a5,7)}return a8}function aM(a7,a6,a5){if(aY(a7)){aK(a7,a6)}if(a5.isEnd&&a0(a7)){aO(a7,a6,a5)}aI(a7,a6)}function aK(a8,a7){var a6=a2();var a5;a7.draggable({zIndex:9,delay:50,opacity:aJ("dragOpacity"),revertDuration:aJ("dragRevertDuration"),start:function(a9,ba){aU("eventDragStart",a7,a8,a9,ba);aH(a8,a7);a6.start(function(bc,bb,bd,be){a7.draggable("option","revert",!bc||!bd&&!be);aV();if(bc){a5=bd*7+be*(aJ("isRTL")?-1:1);aP(az(J(a8.start),a5),az(ak(a8),a5))}else{a5=0}},a9,"drag")},stop:function(a9,ba){a6.stop();aV();aU("eventDragStop",a7,a8,a9,ba);if(a5){aW(this,a8,a5,0,a8.allDay,a9,ba)}else{a7.css("filter","");a1(a8,a7)}}})}}aa.agendaWeek=e;function e(aL,aN){var aK=this;aK.render=aM;C.call(aK,aL,aN,"agendaWeek");var aJ=aK.opt;var aI=aK.renderAgenda;var aH=aN.formatDates;function aM(aS,aU){if(aU){az(aS,aU*7)}var aT=az(J(aS),-((aS.getDay()-aJ("firstDay")+7)%7));var aQ=az(J(aT),7);var aP=J(aT);var aO=J(aQ);var aR=aJ("weekends");if(!aR){aE(aP);aE(aO,-1,true)}aK.title=aH(aP,az(J(aO),-1),aJ("titleFormat"));aK.start=aT;aK.end=aQ;aK.visStart=aP;aK.visEnd=aO;aI(aR?7:5)}}aa.agendaDay=au;function au(aK,aN){var aJ=this;aJ.render=aL;C.call(aJ,aK,aN,"agendaDay");var aI=aJ.opt;var aH=aJ.renderAgenda;var aM=aN.formatDate;function aL(aP,aR){if(aR){az(aP,aR);if(!aI("weekends")){aE(aP,aR<0?-1:1)}}var aQ=J(aP,true);var aO=az(J(aQ),1);aJ.title=aM(aP,aI("titleFormat"));aJ.start=aJ.visStart=aQ;aJ.end=aJ.visEnd=aO;aH(1)}}ag({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});function C(b4,aZ,bc){var a8=this;a8.renderAgenda=aT;a8.setWidth=bn;a8.setHeight=bj;a8.beforeHide=bh;a8.afterShow=bV;a8.defaultEventEnd=bP;a8.timePosition=b7;a8.dayOfWeekCol=aU;a8.dateCell=b0;a8.cellDate=aL;a8.cellIsAllDay=bZ;a8.allDayRow=bC;a8.allDayBounds=br;a8.getHoverListener=function(){return b3};a8.colContentLeft=b8;a8.colContentRight=aQ;a8.getDaySegmentContainer=function(){return a4};a8.getSlotSegmentContainer=function(){return aO};a8.getMinMinute=function(){return bf};a8.getMaxMinute=function(){return aJ};a8.getBodyContent=function(){return bB};a8.getRowCnt=function(){return 1};a8.getColCnt=function(){return bE};a8.getColWidth=function(){return aR};a8.getSlotHeight=function(){return bF};a8.defaultSelectionEnd=bm;a8.renderDayOverlay=aM;a8.renderSelection=bY;a8.clearSelection=bS;a8.reportDayClick=a7;a8.dragStart=aS;a8.dragStop=b5;aA.call(a8,b4,aZ,bc);a.call(a8);aj.call(a8);Q.call(a8);var bA=a8.opt;var bD=a8.trigger;var bz=a8.clearEvents;var bq=a8.renderOverlay;var aK=a8.clearOverlays;var bs=a8.reportSelection;var bW=a8.unselect;var bw=a8.daySelectionMousedown;var a0=a8.slotSegHtml;var a5=aZ.formatDate;var bN;var b1;var bR;var bQ;var bb;var aN;var bO;var bL;var b6;var a4;var b2;var bU;var bo;var bB;var aO;var aV;var bK;var bg;var a6;var aP;var bt;var bI;var bk;var aR;var bx;var bF;var aH;var bE;var bJ;var bG;var b3;var bu;var bd={};var bp;var bi;var by;var aI,a2,a1;var bf,aJ;var aX;aG(b4.addClass("fc-agenda"));function aT(b9){bE=b9;bH();if(!bN){ba()}else{bz()}aY()}function bH(){bp=bA("theme")?"ui":"fc";by=bA("weekends")?0:1;bi=bA("firstDay");if(aI=bA("isRTL")){a2=-1;a1=bE-1}else{a2=1;a1=0}bf=aD(bA("minTime"));aJ=aD(bA("maxTime"));aX=bA("columnFormat")}function ba(){var ce=bp+"-widget-header";var b9=bp+"-widget-content";var cd;var cc;var cg;var cf;var cb;var ca=bA("slotMinutes")%15==0;cd="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+ce+"'>&nbsp;</th>";for(cc=0;cc<bE;cc++){cd+="<th class='fc- fc-col"+cc+" "+ce+"'/>"}cd+="<th class='fc-agenda-gutter "+ce+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+ce+"'>&nbsp;</th>";for(cc=0;cc<bE;cc++){cd+="<td class='fc- fc-col"+cc+" "+b9+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}cd+="<td class='fc-agenda-gutter "+b9+"'>&nbsp;</td></tr></tbody></table>";bN=aq(cd).appendTo(b4);b1=bN.find("thead");bR=b1.find("th").slice(1,-1);bQ=bN.find("tbody");bb=bQ.find("td").slice(0,-1);aN=bb.find("div.fc-day-content div");bO=bb.eq(0);bL=bO.find("> div");c(b1.add(b1.find("tr")));c(bQ.add(bQ.find("tr")));bg=b1.find("th:first");a6=bN.find(".fc-agenda-gutter");b6=aq("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(b4);if(bA("allDaySlot")){a4=aq("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b6);cd="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+ce+" fc-agenda-axis'>"+bA("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+ce+" fc-agenda-gutter'>&nbsp;</th></tr></table>";b2=aq(cd).appendTo(b6);bU=b2.find("tr");bl(bU.find("td"));bg=bg.add(b2.find("th:first"));a6=a6.add(b2.find("th.fc-agenda-gutter"));b6.append("<div class='fc-agenda-divider "+ce+"'><div class='fc-agenda-divider-inner'/></div>")}else{a4=aq([])}bo=aq("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(b6);bB=aq("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bo);aO=aq("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bB);cd="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";cg=d();cf=g(J(cg),aJ);g(cg,bf);bJ=0;for(cc=0;cg<cf;cc++){cb=cg.getMinutes();cd+="<tr class='fc-slot"+cc+" "+(!cb?"":"fc-minor")+"'><th class='fc-agenda-axis "+ce+"'>"+((!ca||!cb)?a5(cg,bA("axisFormat")):"&nbsp;")+"</th><td class='"+b9+"'><div style='position:relative'>&nbsp;</div></td></tr>";g(cg,bA("slotMinutes"));bJ++}cd+="</tbody></table>";aV=aq(cd).appendTo(bB);bK=aV.find("div:first");bT(aV.find("td"));bg=bg.add(aV.find("th:first"))}function aY(){var cc;var b9;var cd;var cb;var ca=b(new Date());for(cc=0;cc<bE;cc++){cb=bv(cc);b9=bR.eq(cc);b9.html(a5(cb,aX));cd=bb.eq(cc);if(+cb==+ca){cd.addClass(bp+"-state-highlight fc-today")}else{cd.removeClass(bp+"-state-highlight fc-today")}H(b9.add(cd),cb)}}function bj(b9,ca){if(b9===t){b9=bI}bI=b9;bd={};var cc=bQ.position().top;var cb=bo.position().top;var cd=Math.min(b9-cc,aV.height()+cb+1);bL.height(cd-B(bO));b6.css("top",cc);bo.height(cd-cb-1);bF=bK.height()+1;if(ca){be()}}function bn(ca){bt=ca;bu.clear();bk=0;ar(bg.width("").each(function(cb,cc){bk=Math.max(bk,aq(cc).outerWidth())}),bk);var b9=bo[0].clientWidth;bx=bo.width()-b9;if(bx){ar(a6,bx);a6.show().prev().removeClass("fc-last")}else{a6.hide().prev().addClass("fc-last")}aR=Math.floor((b9-bk)/bE);ar(bR.slice(0,-1),aR)}function be(){var cc=d();var ca=J(cc);ca.setHours(bA("firstHour"));var cb=b7(cc,ca)+1;function b9(){bo.scrollTop(cb)}b9();setTimeout(b9,0)}function bh(){aH=bo.scrollTop()}function bV(){bo.scrollTop(aH)}function bl(b9){b9.click(bM).mousedown(bw)}function bT(b9){b9.click(bM).mousedown(aW)}function bM(cd){if(!bA("selectable")){var cb=Math.min(bE-1,Math.floor((cd.pageX-bN.offset().left-bk)/aR));var ca=bv(cb);var ce=this.parentNode.className.match(/fc-slot(\d+)/);if(ce){var cc=parseInt(ce[1])*bA("slotMinutes");var b9=Math.floor(cc/60);ca.setHours(b9);ca.setMinutes(cc%60+bf);bD("dayClick",bb[cb],ca,false,cd)}else{bD("dayClick",bb[cb],ca,true,cd)}}}function aM(b9,ce,cb){if(cb){bG.build()}var ca=J(a8.visStart);var cd,cc;if(aI){cd=aw(ce,ca)*a2+a1+1;cc=aw(b9,ca)*a2+a1+1}else{cd=aw(b9,ca);cc=aw(ce,ca)}cd=Math.max(0,cd);cc=Math.min(bE,cc);if(cd<cc){bl(a3(0,cd,0,cc-1))}}function a3(cc,cd,ca,cb){var b9=bG.rect(cc,cd,ca,cb,b6);return bq(b9,b6)}function a9(ce,cj){var cf=J(a8.visStart);var ca=az(J(cf),1);for(var cc=0;cc<bE;cc++){var cd=new Date(Math.max(cf,ce));var ci=new Date(Math.min(ca,cj));if(cd<ci){var cb=cc*a2+a1;var ch=bG.rect(0,cb,0,cb,bB);var cg=b7(cf,cd);var b9=b7(cf,ci);ch.top=cg;ch.height=b9-cg;bT(bq(ch,bB))}az(cf,1);az(ca,1)}}bG=new L(function(ch,cf){var cd,ca,b9;bR.each(function(ck,cj){cd=aq(cj);ca=cd.offset().left;if(ck){b9[1]=ca}b9=[ca];cf[ck]=b9});b9[1]=ca+cd.outerWidth();if(bA("allDaySlot")){cd=bU;ca=cd.offset().top;ch[0]=[ca,ca+cd.outerHeight()]}var cg=bB.offset().top;var ci=bo.offset().top;var cc=ci+bo.outerHeight();function ce(cj){return Math.max(ci,Math.min(cc,cj))}for(var cb=0;cb<bJ;cb++){ch.push([ce(cg+bF*cb),ce(cg+bF*(cb+1))])}});b3=new al(bG);bu=new j(function(b9){return aN.eq(b9)});function b8(b9){return bu.left(b9)}function aQ(b9){return bu.right(b9)}function b0(b9){return{row:Math.floor(aw(b9,a8.visStart)/7),col:aU(b9.getDay())}}function aL(b9){var cb=bv(b9.col);var ca=b9.row;if(bA("allDaySlot")){ca--}if(ca>=0){g(cb,bf+ca*bA("slotMinutes"))}return cb}function bv(b9){return az(J(a8.visStart),b9*a2+a1)}function bZ(b9){return bA("allDaySlot")&&!b9.row}function aU(b9){return((b9-Math.max(bi,by)+bE)%bE)*a2+a1}function b7(ca,ce){ca=J(ca,true);if(ce<g(J(ca),bf)){return 0}if(ce>=g(J(ca),aJ)){return aV.height()}var b9=bA("slotMinutes"),cd=ce.getHours()*60+ce.getMinutes()-bf,cc=Math.floor(cd/b9),cb=bd[cc];if(cb===t){cb=bd[cc]=aV.find("tr:eq("+cc+") td div")[0].offsetTop}return Math.max(0,Math.round(cb-1+bF*((cd%b9)/b9)))}function br(){return{left:bk,right:bt-bx}}function bC(b9){return bU}function bP(b9){var ca=J(b9.start);if(b9.allDay){return ca}return g(ca,bA("defaultEventMinutes"))}function bm(b9,ca){if(ca){return J(b9)}return g(J(b9),bA("slotMinutes"))}function bY(b9,cb,ca){if(ca){if(bA("allDaySlot")){aM(b9,az(J(cb),1),true)}}else{bX(b9,cb)}}function bX(b9,cf){var cd=bA("selectHelper");bG.build();if(cd){var cb=aw(b9,a8.visStart)*a2+a1;if(cb>=0&&cb<bE){var cc=bG.rect(0,cb,0,cb,bB);var ce=b7(b9,b9);var ca=b7(b9,cf);if(ca>ce){cc.top=ce;cc.height=ca-ce;cc.left+=2;cc.width-=5;if(aq.isFunction(cd)){var cg=cd(b9,cf);if(cg){cc.position="absolute";cc.zIndex=8;aP=aq(cg).css(cc).appendTo(bB)}}else{cc.isStart=true;cc.isEnd=true;aP=aq(a0({title:"",start:b9,end:cf,className:["fc-select-helper"],editable:false},cc));aP.css("opacity",bA("dragOpacity"))}if(aP){bT(aP);bB.append(aP);ar(aP,cc.width,true);V(aP,cc.height,true)}}}}else{a9(b9,cf)}}function bS(){aK();if(aP){aP.remove();aP=null}}function aW(b9){if(b9.which==1&&bA("selectable")){bW(b9);var ca;b3.start(function(cc,cb){bS();if(cc&&cc.col==cb.col&&!bZ(cc)){var ce=aL(cb);var cd=aL(cc);ca=[ce,g(J(ce),bA("slotMinutes")),cd,g(J(cd),bA("slotMinutes"))].sort(T);bX(ca[0],ca[3])}else{ca=null}},b9);aq(document).one("mouseup",function(cb){b3.stop();if(ca){if(+ca[0]==+ca[1]){a7(ca[0],false,cb)}bs(ca[0],ca[3],false,cb)}})}}function a7(b9,cb,ca){bD("dayClick",bb[aU(b9.getDay())],b9,cb,ca)}function aS(cb,b9,ca){b3.start(function(cc){aK();if(cc){if(bZ(cc)){a3(cc.row,cc.col,cc.row,cc.col)}else{var ce=aL(cc);var cd=g(J(ce),bA("defaultEventMinutes"));a9(ce,cd)}}},b9)}function b5(cc,ca,cb){var b9=b3.stop();aK();if(b9){bD("drop",cc,aL(b9),bZ(b9),ca,cb)}}}function Q(){var bh=this;bh.renderEvents=aN;bh.compileDaySegs=aI;bh.clearEvents=a3;bh.slotSegHtml=a4;bh.bindDaySeg=a1;U.call(bh);var aW=bh.opt;var a5=bh.trigger;var aL=bh.isEventDraggable;var bm=bh.isEventResizable;var bn=bh.eventEnd;var aR=bh.reportEvents;var bq=bh.reportEventClear;var a8=bh.eventElementHandlers;var bd=bh.setHeight;var aM=bh.getDaySegmentContainer;var bp=bh.getSlotSegmentContainer;var aK=bh.getHoverListener;var aJ=bh.getMaxMinute;var ba=bh.getMinMinute;var aQ=bh.timePosition;var bc=bh.colContentLeft;var bb=bh.colContentRight;var bf=bh.renderDaySegs;var a9=bh.resizableDayEvent;var be=bh.getColCnt;var aX=bh.getColWidth;var aH=bh.getSlotHeight;var a2=bh.getBodyContent;var aU=bh.reportEventElement;var aO=bh.showEvents;var aV=bh.hideEvents;var bk=bh.eventDrop;var aZ=bh.eventResize;var a6=bh.renderDayOverlay;var aP=bh.clearOverlays;var bi=bh.calendar;var bg=bi.formatDate;var aY=bi.formatDates;function aN(bv,bt){aR(bv);var bu,bs=bv.length,bw=[],br=[];for(bu=0;bu<bs;bu++){if(bv[bu].allDay){bw.push(bv[bu])}else{br.push(bv[bu])}}if(aW("allDaySlot")){bf(aI(bw),bt);bd()}aS(a0(br),bt)}function a3(){bq();aM().empty();bp().empty()}function aI(bv){var bx=ad(Y(bv,aq.map(bv,ak),bh.visStart,bh.visEnd)),bu,bw=bx.length,by,bt,bs,br=[];for(bu=0;bu<bw;bu++){by=bx[bu];for(bt=0;bt<by.length;bt++){bs=by[bt];bs.row=0;bs.level=bu;br.push(bs)}}return br}function a0(bD){var bC=be(),bA=ba(),bu=aJ(),bB=g(J(bh.visStart),bA),by=aq.map(bD,bo),bz,bt,bx,br,bv,bw,bs=[];for(bz=0;bz<bC;bz++){bt=ad(Y(bD,by,bB,g(J(bB),bu-bA)));z(bt);for(bx=0;bx<bt.length;bx++){br=bt[bx];for(bv=0;bv<br.length;bv++){bw=br[bv];bw.col=bz;bw.level=bx;bs.push(bw)}}az(bB,1,true)}return bs}function bo(br){if(br.end){return J(br.end)}else{return g(J(br.start),aW("defaultEventMinutes"))}}function aS(bH,bI){var bN,bQ=bH.length,bP,bL,bR,bD,bA,bz,bt,bB,by,bK,br,bu,bC="",bS,bO,bw,bs={},bV={},bU,bT,bx,bF,bM=bp(),bv,bG,bE,bJ=be();if(bv=aW("isRTL")){bG=-1;bE=bJ-1}else{bG=1;bE=0}for(bN=0;bN<bQ;bN++){bP=bH[bN];bL=bP.event;bD=aQ(bP.start,bP.start);bA=aQ(bP.start,bP.end);bz=bP.col;bt=bP.level;bB=bP.forward||0;by=bc(bz*bG+bE);bK=bb(bz*bG+bE)-by;bK=Math.min(bK-6,bK*0.95);if(bt){br=bK/(bt+bB+1)}else{if(bB){br=((bK/(bB+1))-(12/2))*2}else{br=bK}}bu=by+(bK/(bt+bB+1)*bt)*bG+(bv?bK-br:0);bP.top=bD;bP.left=bu;bP.outerWidth=br;bP.outerHeight=bA-bD;bC+=a4(bL,bP)}bM[0].innerHTML=bC;bS=bM.children();for(bN=0;bN<bQ;bN++){bP=bH[bN];bL=bP.event;bO=aq(bS[bN]);bw=a5("eventRender",bL,bL,bO);if(bw===false){bO.remove()}else{if(bw&&bw!==true){bO.remove();bO=aq(bw).css({position:"absolute",top:bP.top,left:bP.left}).appendTo(bM)}bP.element=bO;if(bL._id===bI){bj(bL,bO,bP)}else{bO[0]._fci=bN}aU(bL,bO)}}s(bM,bH,bj);for(bN=0;bN<bQ;bN++){bP=bH[bN];if(bO=bP.element){bT=bs[bU=bP.key=D(bO[0])];bP.vsides=bT===t?(bs[bU]=B(bO,true)):bT;bT=bV[bU];bP.hsides=bT===t?(bV[bU]=f(bO,true)):bT;bx=bO.find("div.fc-event-content");if(bx.length){bP.contentTop=bx[0].offsetTop}}}for(bN=0;bN<bQ;bN++){bP=bH[bN];if(bO=bP.element){bO[0].style.width=Math.max(0,bP.outerWidth-bP.hsides)+"px";bF=Math.max(0,bP.outerHeight-bP.vsides);bO[0].style.height=bF+"px";bL=bP.event;if(bP.contentTop!==t&&bF-bP.contentTop<10){bO.find("div.fc-event-time").text(bg(bL.start,aW("timeFormat"))+" - "+bL.title);bO.find("div.fc-event-title").remove()}a5("eventAfterRender",bL,bL,bO)}}}function a4(bw,br){var bv="<";var bt=bw.url;var bs=N(bw,aW);var bx=(bs?" style='"+bs+"'":"");var bu=["fc-event","fc-event-skin","fc-event-vert"];if(aL(bw)){bu.push("fc-event-draggable")}if(br.isStart){bu.push("fc-corner-top")}if(br.isEnd){bu.push("fc-corner-bottom")}bu=bu.concat(bw.className);if(bw.source){bu=bu.concat(bw.source.className||[])}if(bt){bv+="a href='"+aC(bw.url)+"'"}else{bv+="div"}bv+=" class='"+bu.join(" ")+"' style='position:absolute;z-index:8;top:"+br.top+"px;left:"+br.left+"px;"+bs+"'><div class='fc-event-inner fc-event-skin'"+bx+"><div class='fc-event-head fc-event-skin'"+bx+"><div class='fc-event-time'>"+aC(aY(bw.start,bw.end,aW("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+aC(bw.title)+"</div></div><div class='fc-event-bg'></div></div>";if(br.isEnd&&bm(bw)){bv+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bv+="</"+(bt?"a":"div")+">";return bv}function a1(bt,bs,br){if(aL(bt)){aT(bt,bs,br.isStart)}if(br.isEnd&&bm(bt)){a9(bt,bs,br)}a8(bt,bs)}function bj(bt,bs,br){var bu=bs.find("div.fc-event-time");if(aL(bt)){a7(bt,bs,bu)}if(br.isEnd&&bm(bt)){bl(bt,bs,bu)}a8(bt,bs)}function aT(bs,bA,br){var bB;var bz;var bD=true;var bv;var bt=aW("isRTL")?-1:1;var bu=aK();var bw=aX();var bC=aH();var by=ba();bA.draggable({zIndex:9,opacity:aW("dragOpacity","month"),revertDuration:aW("dragRevertDuration"),start:function(bE,bF){a5("eventDragStart",bA,bs,bE,bF);aV(bs,bA);bB=bA.width();bu.start(function(bH,bG,bI,bJ){aP();if(bH){bz=false;bv=bJ*bt;if(!bH.row){a6(az(J(bs.start),bv),az(ak(bs),bv));bx()}else{if(br){if(bD){bA.width(bw-10);V(bA,bC*Math.round((bs.end?((bs.end-bs.start)/R):aW("defaultEventMinutes"))/aW("slotMinutes")));bA.draggable("option","grid",[bw,1]);bD=false}}else{bz=true}}bz=bz||(bD&&!bv)}else{bx();bz=true}bA.draggable("option","revert",bz)},bE,"drag")},stop:function(bF,bG){bu.stop();aP();a5("eventDragStop",bA,bs,bF,bG);if(bz){bx();bA.css("filter","");aO(bs,bA)}else{var bE=0;if(!bD){bE=Math.round((bA.offset().top-a2().offset().top)/bC)*aW("slotMinutes")+by-(bs.start.getHours()*60+bs.start.getMinutes())}bk(this,bs,bv,bE,bD,bF,bG)}}});function bx(){if(!bD){bA.width(bB).height("").draggable("option","grid",null);bD=true}}}function a7(br,bB,bC){var bv;var bF=false;var bw;var bA;var by;var bs=aW("isRTL")?-1:1;var bu=aK();var bD=be();var bx=aX();var bE=aH();bB.draggable({zIndex:9,scroll:false,grid:[bx,bE],axis:bD==1?"y":false,opacity:aW("dragOpacity"),revertDuration:aW("dragRevertDuration"),start:function(bG,bH){a5("eventDragStart",bB,br,bG,bH);aV(br,bB);bv=bB.position();bA=by=0;bu.start(function(bJ,bI,bK,bL){bB.draggable("option","revert",!bJ);aP();if(bJ){bw=bL*bs;if(aW("allDaySlot")&&!bJ.row){if(!bF){bF=true;bC.hide();bB.draggable("option","grid",null)}a6(az(J(br.start),bw),az(ak(br),bw))}else{bz()}}},bG,"drag")},drag:function(bG,bH){bA=Math.round((bH.position.top-bv.top)/bE)*aW("slotMinutes");if(bA!=by){if(!bF){bt(bA)}by=bA}},stop:function(bH,bI){var bG=bu.stop();aP();a5("eventDragStop",bB,br,bH,bI);if(bG&&(bw||bA||bF)){bk(this,br,bw,bF?0:bA,bF,bH,bI)}else{bz();bB.css("filter","");bB.css(bv);bt(0);aO(br,bB)}}});function bt(bH){var bG=g(J(br.start),bH);var bI;if(br.end){bI=g(J(br.end),bH)}bC.text(aY(bG,bI,aW("timeFormat")))}function bz(){if(bF){bC.css("display","");bB.draggable("option","grid",[bx,bE]);bF=false}}}function bl(bt,bs,bv){var bw,br;var bu=aH();bs.resizable({handles:{s:"div.ui-resizable-s"},grid:bu,start:function(bx,by){bw=br=0;aV(bt,bs);bs.css("z-index",9);a5("eventResizeStart",this,bt,bx,by)},resize:function(bx,by){bw=Math.round((Math.max(bu,bs.height())-by.originalSize.height)/bu);if(bw!=br){bv.text(aY(bt.start,(!bw&&!bt.end)?null:g(bn(bt),aW("slotMinutes")*bw),aW("timeFormat")));br=bw}},stop:function(bx,by){a5("eventResizeStop",this,bt,bx,by);if(bw){aZ(this,bt,0,aW("slotMinutes")*bw,bx,by)}else{bs.css("z-index",8);aO(bt,bs)}}})}}function z(aL){var aJ,aI,aH,aN,aM,aK;for(aJ=aL.length-1;aJ>0;aJ--){aN=aL[aJ];for(aI=0;aI<aN.length;aI++){aM=aN[aI];for(aH=0;aH<aL[aJ-1].length;aH++){aK=aL[aJ-1][aH];if(K(aM,aK)){aK.forward=Math.max(aK.forward||0,(aM.forward||0)+1)}}}}}function aA(aL,aS,aX){var aR=this;aR.element=aL;aR.calendar=aS;aR.name=aX;aR.opt=aJ;aR.trigger=aT;aR.isEventDraggable=aW;aR.isEventResizable=a0;aR.reportEvents=aY;aR.eventEnd=a1;aR.reportEventElement=aZ;aR.reportEventClear=a7;aR.eventElementHandlers=aI;aR.showEvents=a4;aR.hideEvents=aH;aR.eventDrop=aV;aR.eventResize=aK;var a8=aR.defaultEventEnd;var aQ=aS.normalizeEvent;var aP=aS.reportEventChange;var a2={};var a6=[];var aO={};var aM=aS.options;function aJ(bb,a9){var ba=aM[bb];if(typeof ba=="object"){return A(ba,a9||aX)}return ba}function aT(a9,ba){return aS.trigger.apply(aS,[a9,ba||aR].concat(Array.prototype.slice.call(arguments,2),[aR]))}function aW(a9){return a3(a9)&&!aJ("disableDragging")}function a0(a9){return a3(a9)&&!aJ("disableResizing")}function a3(a9){return aF(a9.editable,(a9.source||{}).editable,aJ("editable"))}function aY(bb){a2={};var ba,a9=bb.length,bc;for(ba=0;ba<a9;ba++){bc=bb[ba];if(a2[bc._id]){a2[bc._id].push(bc)}else{a2[bc._id]=[bc]}}}function a1(a9){return a9.end?J(a9.end):a8(a9)}function aZ(ba,a9){a6.push(a9);if(aO[ba._id]){aO[ba._id].push(a9)}else{aO[ba._id]=[a9]}}function a7(){a6=[];aO={}}function aI(ba,a9){a9.click(function(bb){if(!a9.hasClass("ui-draggable-dragging")&&!a9.hasClass("ui-resizable-resizing")){return aT("eventClick",this,ba,bb)}}).hover(function(bb){aT("eventMouseover",this,ba,bb)},function(bb){aT("eventMouseout",this,ba,bb)})}function a4(ba,a9){aU(ba,a9,"show")}function aH(ba,a9){aU(ba,a9,"hide")}function aU(bc,bb,be){var bd=aO[bc._id],ba,a9=bd.length;for(ba=0;ba<a9;ba++){if(!bb||bd[ba][0]!=bb[0]){bd[ba][be]()}}}function aV(bc,ba,bb,bd,bg,bf,be){var bh=ba.allDay;var a9=ba._id;a5(a2[a9],bb,bd,bg);aT("eventDrop",bc,ba,bb,bd,bg,function(){a5(a2[a9],-bb,-bd,bh);aP(a9)},bf,be);aP(a9)}function aK(bf,bd,ba,a9,bc,be){var bb=bd._id;aN(a2[bb],ba,a9);aT("eventResize",bf,bd,ba,a9,function(){aN(a2[bb],-ba,-a9);aP(bb)},bc,be);aP(bb)}function a5(bd,bb,ba,be){ba=ba||0;for(var bf,a9=bd.length,bc=0;bc<a9;bc++){bf=bd[bc];if(be!==t){bf.allDay=be}g(az(bf.start,bb,true),ba);if(bf.end){bf.end=g(az(bf.end,bb,true),ba)}aQ(bf,aM)}}function aN(bd,bb,ba){ba=ba||0;for(var be,a9=bd.length,bc=0;bc<a9;bc++){be=bd[bc];be.end=g(az(a1(be),bb,true),ba);aQ(be,aM)}}}function U(){var ba=this;ba.renderDaySegs=a9;ba.resizableDayEvent=a3;var aS=ba.opt;var aZ=ba.trigger;var aJ=ba.isEventDraggable;var bf=ba.isEventResizable;var bg=ba.eventEnd;var aQ=ba.reportEventElement;var aM=ba.showEvents;var aR=ba.hideEvents;var aV=ba.eventResize;var bj=ba.getRowCnt;var a8=ba.getColCnt;var aT=ba.getColWidth;var aO=ba.allDayRow;var bd=ba.allDayBounds;var a6=ba.colContentLeft;var a4=ba.colContentRight;var aX=ba.dayOfWeekCol;var a5=ba.dateCell;var aI=ba.compileDaySegs;var aK=ba.getDaySegmentContainer;var aY=ba.bindDaySeg;var aU=ba.calendar.formatDates;var a0=ba.renderDayOverlay;var aN=ba.clearOverlays;var aH=ba.clearSelection;function a9(bm,bl){var bk=aK();var bs;var br=bj();var bx=a8();var bq=0;var bw;var bv;var bt;var bp;var by=bm.length;var bo;var bu;var bn;bk[0].innerHTML=a1(bm);a2(bm,bk.children());bc(bm);a7(bm,bk,bl);bi(bm);aL(bm);bb(bm);bs=aW();for(bw=0;bw<br;bw++){bv=0;bt=[];for(bp=0;bp<bx;bp++){bt[bp]=0}while(bq<by&&(bo=bm[bq]).row==bw){bu=ao(bt.slice(bo.startCol,bo.endCol));bo.top=bu;bu+=bo.outerHeight;for(bn=bo.startCol;bn<bo.endCol;bn++){bt[bn]=bu}bq++}bs[bw].height(ao(bt))}bh(bm,aP(bs))}function be(bn,bm,br){var bq=aq("<div/>");var bk;var bl=aK();var bp;var bs=bn.length;var bo;bq[0].innerHTML=a1(bn);bk=bq.children();bl.append(bk);a2(bn,bk);bi(bn);aL(bn);bb(bn);bh(bn,aP(aW()));bk=[];for(bp=0;bp<bs;bp++){bo=bn[bp].element;if(bo){if(bn[bp].row===bm){bo.css("top",br)}bk.push(bo[0])}}return aq(bk)}function a1(bp){var bw=aS("isRTL");var bu;var bA=bp.length;var bt;var bn;var bo;var br;var bk=bd();var bs=bk.left;var bm=bk.right;var by;var bl;var bq;var bz;var bx;var bv="";for(bu=0;bu<bA;bu++){bt=bp[bu];bn=bt.event;br=["fc-event","fc-event-skin","fc-event-hori"];if(aJ(bn)){br.push("fc-event-draggable")}if(bw){if(bt.isStart){br.push("fc-corner-right")}if(bt.isEnd){br.push("fc-corner-left")}by=aX(bt.end.getDay()-1);bl=aX(bt.start.getDay());bq=bt.isEnd?a6(by):bs;bz=bt.isStart?a4(bl):bm}else{if(bt.isStart){br.push("fc-corner-left")}if(bt.isEnd){br.push("fc-corner-right")}by=aX(bt.start.getDay());bl=aX(bt.end.getDay()-1);bq=bt.isStart?a6(by):bs;bz=bt.isEnd?a4(bl):bm}br=br.concat(bn.className);if(bn.source){br=br.concat(bn.source.className||[])}bo=bn.url;bx=N(bn,aS);if(bo){bv+="<a href='"+aC(bo)+"'"}else{bv+="<div"}bv+=" class='"+br.join(" ")+"' style='position:absolute;z-index:8;left:"+bq+"px;"+bx+"'><div class='fc-event-inner fc-event-skin'"+(bx?" style='"+bx+"'":"")+">";if(!bn.allDay&&bt.isStart){bv+="<span class='fc-event-time'>"+aC(aU(bn.start,bn.end,aS("timeFormat")))+"</span>"}bv+="<span class='fc-event-title'>"+aC(bn.title)+"</span></div>";if(bt.isEnd&&bf(bn)){bv+="<div class='ui-resizable-handle ui-resizable-"+(bw?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bv+="</"+(bo?"a":"div")+">";bt.left=bq;bt.outerWidth=bz-bq;bt.startCol=by;bt.endCol=bl+1}return bv}function a2(bl,bq){var bo;var br=bl.length;var bk;var bp;var bn;var bm;for(bo=0;bo<br;bo++){bk=bl[bo];bp=bk.event;bn=aq(bq[bo]);bm=aZ("eventRender",bp,bp,bn);if(bm===false){bn.remove()}else{if(bm&&bm!==true){bm=aq(bm).css({position:"absolute",left:bk.left});bn.replaceWith(bm);bn=bm}bk.element=bn}}}function bc(bl){var bn;var bo=bl.length;var bk;var bm;for(bn=0;bn<bo;bn++){bk=bl[bn];bm=bk.element;if(bm){aQ(bk.event,bm)}}}function a7(bl,bq,bm){var bo;var br=bl.length;var bk;var bn;var bp;for(bo=0;bo<br;bo++){bk=bl[bo];bn=bk.element;if(bn){bp=bk.event;if(bp._id===bm){aY(bp,bn,bk)}else{bn[0]._fci=bo}}}s(bq,bl,aY)}function bi(bl){var bp;var bq=bl.length;var bk;var bo;var bn,br;var bm={};for(bp=0;bp<bq;bp++){bk=bl[bp];bo=bk.element;if(bo){bn=bk.key=D(bo[0]);br=bm[bn];if(br===t){br=bm[bn]=f(bo,true)}bk.hsides=br}}}function aL(bl){var bn;var bo=bl.length;var bk;var bm;for(bn=0;bn<bo;bn++){bk=bl[bn];bm=bk.element;if(bm){bm[0].style.width=Math.max(0,bk.outerWidth-bk.hsides)+"px"}}}function bb(bl){var bo;var bq=bl.length;var bk;var bn;var bm,br;var bp={};for(bo=0;bo<bq;bo++){bk=bl[bo];bn=bk.element;if(bn){bm=bk.key;br=bp[bm];if(br===t){br=bp[bm]=i(bn)}bk.outerHeight=bn[0].offsetHeight+br}}}function aW(){var bk;var bm=bj();var bl=[];for(bk=0;bk<bm;bk++){bl[bk]=aO(bk).find("td:first div.fc-day-content > div")}return bl}function aP(bl){var bk;var bn=bl.length;var bm=[];for(bk=0;bk<bn;bk++){bm[bk]=bl[bk][0].offsetTop}return bm}function bh(bl,bq){var bn;var bp=bl.length;var bk;var bm;var bo;for(bn=0;bn<bp;bn++){bk=bl[bn];bm=bk.element;if(bm){bm[0].style.top=bq[bk.row]+(bk.top||0)+"px";bo=bk.event;aZ("eventAfterRender",bo,bo,bm)}}}function a3(bm,bl,bk){var bp=aS("isRTL");var bo=bp?"w":"e";var bn=bl.find("div.ui-resizable-"+bo);var bq=false;aG(bl);bl.mousedown(function(br){br.preventDefault()}).click(function(br){if(bq){br.preventDefault();br.stopImmediatePropagation()}});bn.mousedown(function(bA){if(bA.which!=1){return}bq=true;var bv=ba.getHoverListener();var bz=bj();var bB=a8();var bt=bp?-1:1;var bs=bp?bB-1:0;var bu=bl.css("top");var bw;var br;var by=aq.extend({},bm);var bC=a5(bm.start);aH();aq("body").css("cursor",bo+"-resize").one("mouseup",bx);aZ("eventResizeStart",this,bm,bA);bv.start(function(bE,bD){if(bE){var bH=Math.max(bC.row,bE.row);var bI=bE.col;if(bz==1){bH=0}if(bH==bC.row){if(bp){bI=Math.min(bC.col,bI)}else{bI=Math.max(bC.col,bI)}}bw=(bH*7+bI*bt+bs)-(bD.row*7+bD.col*bt+bs);var bG=az(bg(bm),bw,true);if(bw){by.end=bG;var bF=br;br=be(aI([by]),bk.row,bu);br.find("*").css("cursor",bo+"-resize");if(bF){bF.remove()}aR(bm)}else{if(br){aM(bm);br.remove();br=null}}aN();a0(bm.start,az(J(bG),1))}},bA);function bx(bD){aZ("eventResizeStop",this,bm,bD);aq("body").css("cursor","");bv.stop();aN();if(bw){aV(this,bm,bw,0,bD)}setTimeout(function(){bq=false},0)}})}}function aj(){var aR=this;aR.select=aP;aR.unselect=aL;aR.reportSelection=aH;aR.daySelectionMousedown=aO;var aJ=aR.opt;var aK=aR.trigger;var aM=aR.defaultSelectionEnd;var aI=aR.renderSelection;var aQ=aR.clearSelection;var aN=false;if(aJ("selectable")&&aJ("unselectAuto")){aq(document).mousedown(function(aS){var aT=aJ("unselectCancel");if(aT){if(aq(aS.target).parents(aT).length){return}}aL(aS)})}function aP(aS,aU,aT){aL();if(!aU){aU=aM(aS,aT)}aI(aS,aU,aT);aH(aS,aU,aT)}function aL(aS){if(aN){aN=false;aQ();aK("unselect",null,aS)}}function aH(aS,aV,aU,aT){aN=true;aK("select",null,aS,aV,aU,aT)}function aO(aV){var aY=aR.cellDate;var aT=aR.cellIsAllDay;var aS=aR.getHoverListener();var aW=aR.reportDayClick;if(aV.which==1&&aJ("selectable")){if(aV.target.className=="fc-day-number"){return}aL(aV);var aU=this;var aX;aS.start(function(a0,aZ){aQ();if(a0&&aT(a0)){aX=[aY(aZ),aY(a0)].sort(T);aI(aX[0],aX[1],true)}else{aX=null}},aV);aq(document).one("mouseup",function(aZ){aS.stop();if(aX){if(+aX[0]==+aX[1]){aW(aX[0],true,aZ)}aH(aX[0],aX[1],true,aZ)}})}}}function a(){var aK=this;aK.renderOverlay=aI;aK.clearOverlays=aH;var aJ=[];var aL=[];function aI(aN,aM){var aO=aL.shift();if(!aO){aO=aq("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(aO[0].parentNode!=aM[0]){aO.appendTo(aM)}aJ.push(aO.css(aN).show());return aO}function aH(){var aM;while(aM=aJ.shift()){aL.push(aM.hide().unbind())}}}function L(aH){var aI=this;var aJ;var aK;aI.build=function(){aJ=[];aK=[];aH(aJ,aK)};aI.cell=function(aL,aR){var aQ=aJ.length;var aM=aK.length;var aN,aO=-1,aP=-1;for(aN=0;aN<aQ;aN++){if(aR>=aJ[aN][0]&&aR<aJ[aN][1]){aO=aN;break}}for(aN=0;aN<aM;aN++){if(aL>=aK[aN][0]&&aL<aK[aN][1]){aP=aN;break}}return(aO>=0&&aP>=0)?{row:aO,col:aP}:null};aI.rect=function(aO,aQ,aM,aN,aP){var aL=aP.offset();return{top:aJ[aO][0]-aL.top,left:aK[aQ][0]-aL.left,width:aK[aN][1]-aK[aQ][0],height:aJ[aM][1]-aJ[aO][0]}}}function al(aM){var aK=this;var aL;var aN;var aI;var aH;aK.start=function(aO,aP,aQ){aN=aO;aI=aH=null;aM.build();aJ(aP);aL=aQ||"mousemove";aq(document).bind(aL,aJ)};function aJ(aO){y(aO);var aP=aM.cell(aO.pageX,aO.pageY);if(!aP!=!aH||aP&&(aP.row!=aH.row||aP.col!=aH.col)){if(aP){if(!aI){aI=aP}aN(aP,aI,aP.row-aI.row,aP.col-aI.col)}else{aN(aP,aI)}aH=aP}}aK.stop=function(){aq(document).unbind(aL,aJ);return aH}}function y(aH){if(aH.pageX===t){aH.pageX=aH.originalEvent.pageX;aH.pageY=aH.originalEvent.pageY}}function j(aI){var aH=this,aJ={},aM={},aL={};function aK(aN){return aJ[aN]=aJ[aN]||aI(aN)}aH.left=function(aN){return aM[aN]=aM[aN]===t?aK(aN).position().left:aM[aN]};aH.right=function(aN){return aL[aN]=aL[aN]===t?aH.left(aN)+aK(aN).width():aL[aN]};aH.clear=function(){aJ={};aM={};aL={}}}})(jQuery);