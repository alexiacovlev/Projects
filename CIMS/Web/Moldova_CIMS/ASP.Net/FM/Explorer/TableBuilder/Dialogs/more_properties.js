RMC.TableMorePropertiesDialog=function(a){this._window=a;this.$p=a.$content;$("#_bottomButtons",this.$p).addHandler("click",this.btn_click,this)};RMC.TableMorePropertiesDialog.prototype={LoadState:function(a){this.designer=a;this._window.show();this.$xnaudit=this.designer.$xnsettings.find("audittrail");$("#chAuditCreate",this.$p).prop("checked",this.$xnaudit.attr("create")=="true");$("#chAuditUpdate",this.$p).prop("checked",this.$xnaudit.attr("update")=="true");$("#chAuditDelete",this.$p).prop("checked",this.$xnaudit.attr("delete")=="true")},SaveState:function(){this.$xnaudit=this.designer.$xnsettings.find("audittrail");var c=$("#chAuditCreate",this.$p).is(":checked");var b=$("#chAuditUpdate",this.$p).is(":checked");var a=$("#chAuditDelete",this.$p).is(":checked");if(c||b||a){if($isNull(this.$xnaudit)){this.$xnaudit=xml_createNode(this.designer.xmlDoc,"audittrail");this.$xnaudit.insertAfter(this.designer.$xnsettings.find("datasource"))}this.$xnaudit.attr("create",c?"true":"false");this.$xnaudit.attr("update",b?"true":"false");this.$xnaudit.attr("delete",a?"true":"false")}else{if(!$isNull(this.$xnaudit)){this.$xnaudit.remove()}}return true},btn_click:function(a){switch(_fm_getCommand(a)){case"OK":if(this.SaveState()){this._window.close()}break;case"X":this._window.close();break}}};