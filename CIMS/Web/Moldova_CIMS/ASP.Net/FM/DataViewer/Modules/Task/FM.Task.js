FM.Task=function(f,a,e,d){this._window=d;var b=f.children();this.p=b[0];this.$p=$(this.p);this.inputParameters=a;this._window.returnValue=true;this._window.setHeader(this.p.getAttribute("header"));$("a",f).click($.proxy(this.btn_click,this));var c=this._window.onclose;this._window.onclose=function(g){App.Notify._check();if(c){c(g)}}};FM.Task.prototype={dispose:function(){},btn_click:function(c){this._window.returnValue=true;switch(_fm_getCommand(c)){case"EXECUTE":var f=c.target;var a=f.getAttribute("tid");var d=f.getAttribute("params");var b=f.getAttribute("wnd_size");var g=null;window.fmOpenHandler("CUSTOM/TASK",a,"OPEN",d,b,g);break;case"COMPLETE":var f=c.target;var a=f.getAttribute("tid");ExecuteService('{"taskId":"'+a+'"}',"/ASP.Net/FM/DataViewer/Modules/Task/Service.asmx/SetCompleted",$createDelegate(this.oncomplete,this));break;case"X":this._window.close();break}},oncomplete:function(){this._window.close()},};